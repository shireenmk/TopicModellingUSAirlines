# TopicModellingUSAirlines
########################################################################################################################################
# Authorship of each file :- 
#		Source code          - 			Shireen
# 	BASELINES            - 			Radhika
#		human annotated.csv  - 	    Radhika
#		ORIGINS              -			Radhika
#		INSTALLS             - 			Shireen
#		README.txt           -      Shireen
#		  
#1. Program Name: "Topic Modelling on 6 US Airlines" by "Shireen"
#   Problem: Business owners would want to know what their customers think about their brand and services. Topic modelling would help #  #   them identify areas they would require improvement. Net promoter score(NPS) is calculated for each topic for each airline. 
#
#2. Program Run:- The program is run from the command line as follows:
#    python FinalProject.py tweets.csv LDAModelPP.txt topics.txt results.csv  > nps.txt
#	   FinalProject.py        -     Python code to run topic modelling
#    tweets.csv	            - 	  Main csv file consisting of tweets 
#	   LDAModelPP.txt         -     To load the saved LDA model
#	   topics.txt             -     Results of generated topics
#	   results.csv            -     Results when topics are reapplied back to the tweets
#    nps.txt                -     NPS score for each topic for each airline
#   		
#3. [i] The tweets from the csv file are taken into a list. Data cleaning is performed on the tweets.		 
#  [ii] Punctuations are removed. Texts converted into lower case and then word tokenized. Stop words and numbers are removed.            #       Lemmatization is used to bring words into its canonical form. Stop words not removed by nltk stop list such as 'could', 'would' #       etc are removed manually. Top 100 words by frequencies are searched and words found redundant such as 'flight', 'flightled',    #       'amp' are removed.   
# [iii] Using phraser module of gensim package bigrams are created of words that appear often together. A dictionary is created where   #       each token(word) is identified with a unique number along with its counts.  
#  [iv]	LDA model is applied to number of topics(k) from 1 to 20 and coherence scores are calculated for each k. A graph is plotted to  #       see the trend of increase. A value is selected such that there is a dip after sudden increase (see paper for more details). A    #       value of k=7 is selected to be the optimal model, which is confirmed by visualizations using pyLDAvis. The topics for k=7 are    #       written into topics.txt.
#   [v] The model is then applied back to the corpus to label each tweet with a highest probable topic number. These results are saved    #       to results.csv.
#  [vi] Data is divided based on airline. For each airline, topic number and sentiments are taken into a dictionary as key and values.
# [vii] NPS scores are calculated as ((number of positives - number of negatives)/total number of tweets per topic per airline) and      #       outputted into nps.txt.
#
# Note:-
#
# Topic Names :
# Topic 0 - call_center 
# Topic 1 - waiting
# Topic 2 - cancelling
# Topic 3 - delays
# Topic 4 - customer_service
# Topic 5 - travel
# Topic 6 - thanks
#
# Human annotation is used as baseline model as this is an unsupervised learning approach. 10 tweets per airline were analysed and scored to  
# compute accuracy. 50 tweets were found to be accurately classified by the model out of the 60 tweets.
# 								ACCURACY = 50/60 = 83.33% 


The following files are included in the tar file:
FinalProject.py        -     Python code to run topic modelling    
LDAModelPP.txt         -     To load the saved LDA model
LDAModelPP.txt.expElogbeta   -  LDA dependencies
LDAModelPP.txt.id2word -     LDA dependencies
LDAModelPP.txt.state   -     LDA dependencies
human annotated.csv    -     Includes the comparison results of topics on tweets generated by lda model and the annotated baseline model
BASELINE.txt           -     Description of our baseline model
ORIGINS.txt	           -     Dataset origins
INSTALLS.txt	         -     Extra installations required


Github URL of our project:
https://github.com/shireenmk/TopicModellingUSAirlines
